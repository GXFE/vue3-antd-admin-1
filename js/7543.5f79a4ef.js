"use strict";(self.webpackChunkvue3_antd_admin=self.webpackChunkvue3_antd_admin||[]).push([[7543,9291,3335,5272,9157,3386,4862,1415,6173,9400,2572,1806,3067,1610],{76496:function(t,e,n){n.a(t,(async function(t,i){try{n.d(e,{Af:function(){return u},RD:function(){return c},ZT:function(){return o},_8:function(){return d}});var r=n(4064),a=n(57314),l=t([r]);function u(){return(0,r.W)({url:a.default.list,method:"get"})}function o(t){return(0,r.W)({url:a.default.add,method:"post",data:t},{successMsg:"创建成功"})}function d(t){return(0,r.W)({url:a.default.update,method:"post",data:t},{successMsg:"更新成功"})}function c(t){return(0,r.W)({url:a.default.delete,method:"post",data:t},{successMsg:"删除成功"})}r=(l.then?(await l)():l)[0],i()}catch(s){i(s)}}))},85713:function(t,e,n){n.d(e,{G:function(){return s}});var i,r,a=n(66252),l=n(2262);!function(t){t.XS="XS",t.SM="SM",t.MD="MD",t.LG="LG",t.XL="XL",t.XXL="XXL"}(i||(i={})),function(t){t[t.XS=480]="XS",t[t.SM=576]="SM",t[t.MD=768]="MD",t[t.LG=992]="LG",t[t.XL=1200]="XL",t[t.XXL=1600]="XXL"}(r||(r={}));const u=new Map;let o,d,c;function s(){return{screenRef:(0,a.Fl)((()=>(0,l.SU)(o))),widthRef:d,screenEnum:r,realWidthRef:c}}u.set(i.XS,r.XS),u.set(i.SM,r.SM),u.set(i.MD,r.MD),u.set(i.LG,r.LG),u.set(i.XL,r.XL),u.set(i.XXL,r.XXL)},54278:function(t,e,n){n.d(e,{GP:function(){return r}});var i=n(27484);const r=n.n(i)()},98243:function(t,e,n){n.d(e,{GR:function(){return a},IS:function(){return r},RH:function(){return l},nz:function(){return u}});var i=n(71377);function r(t){var e;if(!t)return"file-type-unknown";const n=null===(e=/[.]/.exec(i=t)?null===(r=/[^.]+$/.exec(i))||void 0===r?void 0:r[0]:void 0)||void 0===e?void 0:e.toLowerCase();var i,r;return n?["png","jpg","jpeg","ico","gif","bmp","webp"].includes(n)?"file-type-img":["markdown","md","txt"].includes(n)?"file-type-txt":["docx","doc","docm","dot","dotx"].includes(n)?"file-type-docx":["csv","xls","xlsb","xlsm","xlsx","xltx"].includes(n)?"file-type-excel":"pdf"===n?"file-type-pdf":["pptx","ppt","pptm"].includes(n)?"file-type-ppt":["zip","rar","7z","tar","gz","tgz","tar.gz","tar.xz"].includes(n)?"file-type-zip":["mp4","avi","wmv","rmvb","3gp","mov","m4v","flv","mkv"].includes(n)?"file-type-video":["mp3","wav"].includes(n)?"file-type-music":["vue","js","go","java","ts","css","html","php","c","cpp","swift","kt"].includes(n)?"file-type-code":"file-type-unknown":"file-type-unknown"}function a(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===t)return"0 Bytes";const n=1024,i=e<0?0:e,r=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(t)/Math.log(n));return`${parseFloat((t/Math.pow(n,a)).toFixed(i))} ${r[a]}`}function l(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(t in n)e[t]=(0,i.Kn)(e[t])?l(e[t],n[t]):e[t]=n[t];return e}const u=(t,e)=>{const n=t;return n.install=i=>{i.component(n.name||n.displayName,t),e&&(i.config.globalProperties[e]=t)},t}},90487:function(t,e,n){n.a(t,(async function(t,i){try{var r=n(66252),a=n(2262),l=n(68652),u=n(41806),o=n(90828),d=n(76496),c=n(21502),s=n(46945),f=n(12746),p=t([o,d,c,s]);[o,d,c,s]=p.then?(await p)():p;const m=(0,r.aZ)({name:"SysMenu"});e.Z=(0,r.aZ)({...m,setup(t){const e=(0,a.iH)([]),[n,i]=(0,c.useTable)({search:!1,pagination:!1,size:"small",rowKey:"id",bordered:!0,scroll:{x:2e3}}),[p]=(0,s.U)(),m=async()=>{const t=await(0,d.Af)();return e.value=(0,f.bl)((0,l.Z)(t).filter((t=>2!==t.type)),null),{list:(0,f.bl)((0,l.Z)(t),null)}},h=async t=>{var n,r,l;const[u]=await p({modalProps:{title:(t.id?"编辑":"新增")+"菜单",width:700,onFinish:async e=>{var n;t.id&&(e.menuId=t.id),e.perms=null===(n=e.perms)||void 0===n?void 0:n.join(","),await(t.id?d._8:d.ZT)(e),i.reload()}},formProps:{labelWidth:100,schemas:o.menuSchemas}});null==u||u.updateSchema([{field:"parentId",componentProps:{treeDefaultExpandedKeys:[-1].concat((null==t?void 0:t.keyPath)||[]),treeData:(0,a.iH)([{id:-1,name:"一级菜单",children:e.value}])}}]),null==u||u.setFieldsValue({...t,icon:null!==(n=t.icon)&&void 0!==n?n:"",perms:null===(r=t.perms)||void 0===r?void 0:r.split(","),parentId:null!==(l=t.parentId)&&void 0!==l?l:-1})},v=[...u.baseColumns,{title:"操作",width:160,dataIndex:"ACTION",hideInSearch:!0,align:"center",fixed:"right",actions:t=>{let{record:e}=t;return[{label:"编辑",auth:{perm:"sys.menu.update",effect:"disable"},onClick:()=>h(e)},{label:"删除",auth:"sys.menu.delete",popConfirm:{title:"你确定要删除吗？",onConfirm:()=>(async t=>{await(0,d.RD)({menuId:t.id}),i.reload()})(e)}}]}}];return(t,e)=>{const i=(0,r.up)("a-button");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)((0,a.SU)(n),{"header-title":"菜单管理","data-request":m,columns:v},{toolbar:(0,r.w5)((()=>[(0,r.Wm)(i,{type:"primary",disabled:!t.$auth("sys.menu.add"),onClick:e[0]||(e[0]=t=>h({}))},{default:(0,r.w5)((()=>[(0,r.Uk)(" 新增 ")])),_:1},8,["disabled"])])),_:1})])}}}),i()}catch(t){i(t)}}))},93748:function(t,e,n){n.d(e,{z:function(){return r}});n(81299);var i=n(71377);function r(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;if(!t||!Reflect.has(t,e))return null;if(!(0,i.mf)(t[e]))return null;const r=t[e];return r?r(n):null}},41806:function(t,e,n){n.r(e),n.d(e,{baseColumns:function(){return a}});var i=n(66252),r=n(96461);const a=[{title:"名称",dataIndex:"name",width:240,fixed:"left"},{title:"图标",width:80,dataIndex:"icon",align:"center",customRender:t=>{let{record:e}=t;return e.icon&&(0,i.Wm)((0,i.up)("icon-font"),{type:e.icon,size:"22"},null)}},{title:"类型",width:80,align:"center",dataIndex:"type",customRender:t=>{let{record:e}=t;return(t=>{switch(t){case 0:return"目录";case 1:return"菜单";case 2:return"权限";default:return""}})(e.type)}},{title:"节点路由",dataIndex:"router",align:"center",width:240},{title:"路由缓存",dataIndex:"keepalive",align:"center",width:80,customRender:t=>{let{record:e}=t;return 1===e.type&&(e.keepalive?"是":"否")}},{title:"文件路径",width:280,align:"center",dataIndex:"viewPath"},{title:"权限",width:300,align:"center",dataIndex:"perms",customRender:t=>{var e;let{record:n}=t;return 2==n.type&&(0,i.Wm)("div",null,[null===(e=n.perms)||void 0===e?void 0:e.split(",").map((t=>{return(0,i.Wm)(r.ZP,{color:"blue",key:t},"function"==typeof(e=t)||"[object Object]"===Object.prototype.toString.call(e)&&!(0,i.lA)(e)?t:{default:()=>[t]});var e}))])}},{title:"排序号",width:80,align:"center",dataIndex:"orderNum"},{title:"更新时间",width:180,align:"center",dataIndex:"updatedAt"}]},15168:function(t,e,n){n.a(t,(async function(t,i){try{n.r(e);var r=n(74786),a=t([r]);const l=(r=(a.then?(await a)():a)[0]).Z;e.default=l,i()}catch(t){i(t)}}))},74786:function(t,e,n){n.a(t,(async function(t,i){try{n.d(e,{Z:function(){return r.Z}});var r=n(90487),a=t([r]);r=(a.then?(await a)():a)[0],i()}catch(t){i(t)}}))}}]);