"use strict";(self.webpackChunkvue3_antd_admin=self.webpackChunkvue3_antd_admin||[]).push([[9658,9663],{47967:function(e,t,a){a.a(e,(async function(e,l){try{var n=a(66252),o=a(2262),u=a(3577),i=a(95878),r=a(66900),s=a(96461),d=a(98243),c=a(19171),f=a(15733),m=e([c]);c=(m.then?(await m)():m)[0];const v={class:"sys-server-stat-container"},p={class:"disk-info"},w={class:"disk-info--item"},U={class:"disk-info"},S={class:"disk-info--item"},b=(0,n.aZ)({name:"SystemMonitorServe"});t.Z=(0,n.aZ)({...b,setup(e){let t=-1;const a=(0,o.qj)({runtime:{os:"",arch:"",nodeVersion:"",npmVersion:""},disk:{size:0,used:0,available:0},memory:{total:0,available:0},cpu:{manufacturer:"",brand:"",physicalCores:0,model:"",speed:0,rawCurrentLoad:0,rawCurrentLoadIdle:0,coresLoad:[]}}),{runtime:l,disk:m,memory:b,cpu:y}=(0,o.BK)(a),k=(0,n.Fl)((()=>({size:(0,d.GR)(m.value.size),used:(0,d.GR)(m.value.used),available:(0,d.GR)(m.value.available)}))),h=(0,n.Fl)((()=>({total:(0,d.GR)(b.value.total),free:(0,d.GR)(b.value.available),used:(0,d.GR)(b.value.total-b.value.available)}))),_=(0,n.Fl)((()=>m.value.size<=0?0:Math.floor(m.value.used/m.value.size*100))),Z=(0,n.Fl)((()=>b.value.total<=0?0:Math.floor((b.value.total-b.value.available)/b.value.total*100))),P=(0,n.Fl)((()=>`${y.value.manufacturer} ${y.value.brand} @ ${y.value.speed}GHz`)),z=async()=>{const e=await(0,c.P)();l.value=e.runtime,m.value=e.disk,b.value=e.memory,y.value=e.cpu};z();const W=e=>e<30?"#5cb87a":e<70?"#e6a23c":"#f53f3f",g=(e,t)=>t<=0?0:Math.floor(e/t*100);return(0,n.bv)((()=>{t=setInterval(z,1e4)})),(0,n.Jd)((()=>{clearInterval(t)})),(e,t)=>((0,n.wg)(),(0,n.iD)("div",v,[(0,n.Wm)((0,o.SU)(i.ZP),{class:"stat-card",title:"运行环境"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,o.SU)(r.ZP),{column:1,"label-style":{width:"50%"}},{default:(0,n.w5)((()=>[(0,n.Wm)((0,o.SU)(r.ZP).Item,{label:"操作系统"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,u.zw)((0,o.SU)(l).os),1)])),_:1}),(0,n.Wm)((0,o.SU)(r.ZP).Item,{label:"系统架构"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,u.zw)((0,o.SU)(l).arch),1)])),_:1}),(0,n.Wm)((0,o.SU)(r.ZP).Item,{label:"Node版本"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,o.SU)(s.ZP),{color:"processing",size:"small"},{default:(0,n.w5)((()=>[(0,n.Uk)("v"+(0,u.zw)((0,o.SU)(l).nodeVersion),1)])),_:1})])),_:1}),(0,n.Wm)((0,o.SU)(r.ZP).Item,{label:"NPM版本"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,o.SU)(s.ZP),{color:"processing",size:"small"},{default:(0,n.w5)((()=>[(0,n.Uk)("v"+(0,u.zw)((0,o.SU)(l).npmVersion),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.Wm)((0,o.SU)(i.ZP),{class:"stat-card",title:"CPU"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,o.SU)(r.ZP),{column:1,"label-style":{width:"50%"},"content-style":{width:"50%"}},{default:(0,n.w5)((()=>[(0,n.Wm)((0,o.SU)(r.ZP).Item,{label:"详细"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,u.zw)((0,o.SU)(P)),1)])),_:1}),(0,n.Wm)((0,o.SU)(r.ZP).Item,{label:"负载"},{default:(0,n.w5)((()=>[(0,n.Wm)(f.default,{percent:g((0,o.SU)(y).rawCurrentLoad,(0,o.SU)(y).rawCurrentLoadIdle+(0,o.SU)(y).rawCurrentLoad),"stroke-color":W},null,8,["percent"])])),_:1}),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(y).coresLoad,((e,t)=>((0,n.wg)(),(0,n.j4)((0,o.SU)(r.ZP).Item,{key:t,label:`核心${t+1} 负载`},{default:(0,n.w5)((()=>[(0,n.Wm)(f.default,{percent:g(e.rawLoad,e.rawLoad+e.rawLoadIdle),"stroke-color":W},null,8,["percent"])])),_:2},1032,["label"])))),128))])),_:1})])),_:1}),(0,n.Wm)((0,o.SU)(i.ZP),{class:"stat-card",title:"磁盘"},{default:(0,n.w5)((()=>[(0,n._)("div",p,[(0,n.Wm)((0,o.SU)(r.ZP),{class:"disk-info--item",column:1},{default:(0,n.w5)((()=>[(0,n.Wm)((0,o.SU)(r.ZP).Item,{label:"总空间"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,u.zw)((0,o.SU)(k).size),1)])),_:1}),(0,n.Wm)((0,o.SU)(r.ZP).Item,{label:"已用空间"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,u.zw)((0,o.SU)(k).used),1)])),_:1}),(0,n.Wm)((0,o.SU)(r.ZP).Item,{label:"可用空间"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,u.zw)((0,o.SU)(k).available),1)])),_:1})])),_:1}),(0,n._)("div",w,[(0,n.Wm)(f.default,{type:"dashboard",percent:(0,o.SU)(_),width:100,"stroke-color":W},null,8,["percent"])])])])),_:1}),(0,n.Wm)((0,o.SU)(i.ZP),{class:"stat-card",title:"内存"},{default:(0,n.w5)((()=>[(0,n._)("div",U,[(0,n.Wm)((0,o.SU)(r.ZP),{class:"disk-info--item",column:1},{default:(0,n.w5)((()=>[(0,n.Wm)((0,o.SU)(r.ZP).Item,{label:"总内存"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,u.zw)((0,o.SU)(h).total),1)])),_:1}),(0,n.Wm)((0,o.SU)(r.ZP).Item,{label:"已用内存"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,u.zw)((0,o.SU)(h).used),1)])),_:1}),(0,n.Wm)((0,o.SU)(r.ZP).Item,{label:"可用内存"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,u.zw)((0,o.SU)(h).free),1)])),_:1})])),_:1}),(0,n._)("div",S,[(0,n.Wm)(f.default,{type:"dashboard",percent:(0,o.SU)(Z),width:100,"stroke-color":W},null,8,["percent"])])])])),_:1})]))}}),l()}catch(e){l(e)}}))},19171:function(e,t,a){a.a(e,(async function(e,l){try{a.d(t,{P:function(){return i}});var n=a(4064),o=a(49845),u=e([n]);function i(){return(0,n.W)({url:o.default.stat,method:"get"})}n=(u.then?(await u)():u)[0],l()}catch(r){l(r)}}))},98243:function(e,t,a){a.d(t,{GR:function(){return o},IS:function(){return n},RH:function(){return u},nz:function(){return i}});var l=a(71377);function n(e){var t;if(!e)return"file-type-unknown";const a=null===(t=/[.]/.exec(l=e)?null===(n=/[^.]+$/.exec(l))||void 0===n?void 0:n[0]:void 0)||void 0===t?void 0:t.toLowerCase();var l,n;return a?["png","jpg","jpeg","ico","gif","bmp","webp"].includes(a)?"file-type-img":["markdown","md","txt"].includes(a)?"file-type-txt":["docx","doc","docm","dot","dotx"].includes(a)?"file-type-docx":["csv","xls","xlsb","xlsm","xlsx","xltx"].includes(a)?"file-type-excel":"pdf"===a?"file-type-pdf":["pptx","ppt","pptm"].includes(a)?"file-type-ppt":["zip","rar","7z","tar","gz","tgz","tar.gz","tar.xz"].includes(a)?"file-type-zip":["mp4","avi","wmv","rmvb","3gp","mov","m4v","flv","mkv"].includes(a)?"file-type-video":["mp3","wav"].includes(a)?"file-type-music":["vue","js","go","java","ts","css","html","php","c","cpp","swift","kt"].includes(a)?"file-type-code":"file-type-unknown":"file-type-unknown"}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";const a=1024,l=t<0?0:t,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(e)/Math.log(a));return`${parseFloat((e/Math.pow(a,o)).toFixed(l))} ${n[o]}`}function u(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(e in a)t[e]=(0,l.Kn)(t[e])?u(t[e],a[e]):t[e]=a[e];return t}const i=(e,t)=>{const a=e;return a.install=l=>{l.component(a.name||a.displayName,e),t&&(l.config.globalProperties[t]=e)},e}},99658:function(e,t,a){a.a(e,(async function(e,l){try{a.r(t);var n=a(41339),o=(a(73055),a(83744)),u=e([n]);n=(u.then?(await u)():u)[0];const i=(0,o.Z)(n.Z,[["__scopeId","data-v-fdb23d7e"]]);t.default=i,l()}catch(e){l(e)}}))},41339:function(e,t,a){a.a(e,(async function(e,l){try{a.d(t,{Z:function(){return n.Z}});var n=a(47967),o=e([n]);n=(o.then?(await o)():o)[0],l()}catch(e){l(e)}}))},73055:function(){}}]);