"use strict";(self.webpackChunkvue3_antd_admin=self.webpackChunkvue3_antd_admin||[]).push([[2572,3386,4862,1415,6173,9400,1806,3067,1610],{76496:function(e,t,n){n.a(e,(async function(e,a){try{n.d(t,{Af:function(){return l},RD:function(){return o},ZT:function(){return u},_8:function(){return c}});var r=n(4064),i=n(57314),d=e([r]);function l(){return(0,r.W)({url:i.default.list,method:"get"})}function u(e){return(0,r.W)({url:i.default.add,method:"post",data:e},{successMsg:"创建成功"})}function c(e){return(0,r.W)({url:i.default.update,method:"post",data:e},{successMsg:"更新成功"})}function o(e){return(0,r.W)({url:i.default.delete,method:"post",data:e},{successMsg:"删除成功"})}r=(d.then?(await d)():d)[0],a()}catch(s){a(s)}}))},90487:function(e,t,n){n.a(e,(async function(e,a){try{var r=n(66252),i=n(2262),d=n(68652),l=n(41806),u=n(90828),c=n(76496),o=n(21502),s=n(46945),p=n(12746),m=e([u,c,o,s]);[u,c,o,s]=m.then?(await m)():m;const f=(0,r.aZ)({name:"SysMenu"});t.Z=(0,r.aZ)({...f,setup(e){const t=(0,i.iH)([]),[n,a]=(0,o.useTable)({search:!1,pagination:!1,size:"small",rowKey:"id",bordered:!0,scroll:{x:2e3}}),[m]=(0,s.U)(),f=async()=>{const e=await(0,c.Af)();return t.value=(0,p.bl)((0,d.Z)(e).filter((e=>2!==e.type)),null),{list:(0,p.bl)((0,d.Z)(e),null)}},h=async e=>{var n,r,d;const[l]=await m({modalProps:{title:(e.id?"编辑":"新增")+"菜单",width:700,onFinish:async t=>{var n;e.id&&(t.menuId=e.id),t.perms=null===(n=t.perms)||void 0===n?void 0:n.join(","),await(e.id?c._8:c.ZT)(t),a.reload()}},formProps:{labelWidth:100,schemas:u.menuSchemas}});null==l||l.updateSchema([{field:"parentId",componentProps:{treeDefaultExpandedKeys:[-1].concat((null==e?void 0:e.keyPath)||[]),treeData:(0,i.iH)([{id:-1,name:"一级菜单",children:t.value}])}}]),null==l||l.setFieldsValue({...e,icon:null!==(n=e.icon)&&void 0!==n?n:"",perms:null===(r=e.perms)||void 0===r?void 0:r.split(","),parentId:null!==(d=e.parentId)&&void 0!==d?d:-1})},y=[...l.baseColumns,{title:"操作",width:160,dataIndex:"ACTION",hideInSearch:!0,align:"center",fixed:"right",actions:e=>{let{record:t}=e;return[{label:"编辑",auth:{perm:"sys.menu.update",effect:"disable"},onClick:()=>h(t)},{label:"删除",auth:"sys.menu.delete",popConfirm:{title:"你确定要删除吗？",onConfirm:()=>(async e=>{await(0,c.RD)({menuId:e.id}),a.reload()})(t)}}]}}];return(e,t)=>{const a=(0,r.up)("a-button");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)((0,i.SU)(n),{"header-title":"菜单管理","data-request":f,columns:y},{toolbar:(0,r.w5)((()=>[(0,r.Wm)(a,{type:"primary",disabled:!e.$auth("sys.menu.add"),onClick:t[0]||(t[0]=e=>h({}))},{default:(0,r.w5)((()=>[(0,r.Uk)(" 新增 ")])),_:1},8,["disabled"])])),_:1})])}}}),a()}catch(e){a(e)}}))},41806:function(e,t,n){n.r(t),n.d(t,{baseColumns:function(){return i}});var a=n(66252),r=n(96461);const i=[{title:"名称",dataIndex:"name",width:240,fixed:"left"},{title:"图标",width:80,dataIndex:"icon",align:"center",customRender:e=>{let{record:t}=e;return t.icon&&(0,a.Wm)((0,a.up)("icon-font"),{type:t.icon,size:"22"},null)}},{title:"类型",width:80,align:"center",dataIndex:"type",customRender:e=>{let{record:t}=e;return(e=>{switch(e){case 0:return"目录";case 1:return"菜单";case 2:return"权限";default:return""}})(t.type)}},{title:"节点路由",dataIndex:"router",align:"center",width:240},{title:"路由缓存",dataIndex:"keepalive",align:"center",width:80,customRender:e=>{let{record:t}=e;return 1===t.type&&(t.keepalive?"是":"否")}},{title:"文件路径",width:280,align:"center",dataIndex:"viewPath"},{title:"权限",width:300,align:"center",dataIndex:"perms",customRender:e=>{var t;let{record:n}=e;return 2==n.type&&(0,a.Wm)("div",null,[null===(t=n.perms)||void 0===t?void 0:t.split(",").map((e=>{return(0,a.Wm)(r.ZP,{color:"blue",key:e},"function"==typeof(t=e)||"[object Object]"===Object.prototype.toString.call(t)&&!(0,a.lA)(t)?e:{default:()=>[e]});var t}))])}},{title:"排序号",width:80,align:"center",dataIndex:"orderNum"},{title:"更新时间",width:180,align:"center",dataIndex:"updatedAt"}]},15168:function(e,t,n){n.a(e,(async function(e,a){try{n.r(t);var r=n(74786),i=e([r]);const d=(r=(i.then?(await i)():i)[0]).Z;t.default=d,a()}catch(e){a(e)}}))},74786:function(e,t,n){n.a(e,(async function(e,a){try{n.d(t,{Z:function(){return r.Z}});var r=n(90487),i=e([r]);r=(i.then?(await i)():i)[0],a()}catch(e){a(e)}}))}}]);