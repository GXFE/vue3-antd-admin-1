"use strict";(self.webpackChunkvue3_antd_admin=self.webpackChunkvue3_antd_admin||[]).push([[923,7630,6580],{75956:function(e,n,l){l.a(e,(async function(e,a){try{l(85827),l(57658);var t=l(66252),c=l(2262),i=l(49963),u=l(3577),r=l(66309),d=l(60191),o=l(17301),v=l(98704),h=l(62282),s=l(96461),p=l(77630),k=l(46580),f=l(66827),m=e([f]);f=(m.then?(await m)():m)[0];const g={class:"input-box"};n.Z=(0,t.aZ)({__name:"index",props:{value:{type:Array,default:()=>[],isRequired:!0}},emits:["update:value"],setup(e,n){let{emit:l}=n;const a=e,m=(0,r.NCN)(a,"value",l),w=(0,c.iH)(),C=(0,c.iH)((0,f.ik)()),_=o.ZP.useInjectFormItemContext(),y=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.reduce(((e,n)=>{var l,a;return null!==(l=n.children)&&void 0!==l&&l.length||!n.checked||!n.value||e.push({label:n.value,value:n.value,node:n}),null!==(a=n.children)&&void 0!==a&&a.length&&y(n.children,e),e}),n)},Z=e=>{const n=e=>e.some((e=>{var l;return!!m.value.includes(e.value)||!(null===(l=e.children)||void 0===l||!l.length)&&n(e.children)})),l=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null==e||e.forEach((e=>{var t,c;null!==(t=e.children)&&void 0!==t&&t.length&&l(e.children,e),e.parent=a,e.indeterminate=!1,e.checked=m.value.includes(e.value),null!==(c=e.children)&&void 0!==c&&c.length&&(e.indeterminate=n(e.children))}))};l(e)};Z(C.value);const S=()=>{m.value=[],setTimeout((()=>{var e;C.value=(0,f.ik)(),Z(C.value),null===(e=w.value)||void 0===e||e.clearCheck()}))},U=(0,t.Fl)((()=>y(C.value)));return(0,t.YP)((()=>U.value),(e=>{m.value=e.map((e=>e.value)),_.onFieldChange()})),(e,n)=>((0,t.wg)(),(0,t.j4)((0,c.SU)(v.Z),{placement:"bottomLeft",trigger:"click","overlay-class-name":"__multiple-cascader"},{content:(0,t.w5)((()=>[(0,t.Wm)(p.default,{ref_key:"nodePanelRef",ref:w,options:C.value},null,8,["options"])])),default:(0,t.w5)((()=>[(0,t._)("div",g,[(0,t.Wm)((0,c.SU)(h.ZP),{placeholder:"请选择"},(0,t.Nv)({_:2},[(0,c.SU)(U).length?{name:"prefix",fn:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,c.SU)(U),(e=>((0,t.wg)(),(0,t.j4)((0,c.SU)(s.ZP),{key:e.value,class:"tag-item",closable:"",onClose:(0,i.iM)((n=>(e=>{(0,k.updateNodeCheckStatus)(!1,e.node)})(e)),["prevent"])},{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(e.label),1)])),_:2},1032,["onClose"])))),128)),(0,t.Wm)((0,c.SU)(d.Z),{class:"clear-icon",onClick:(0,i.iM)(S,["prevent"])},null,8,["onClick"])])),key:"0"}:void 0]),1024)])])),_:1}))}}),a()}catch(e){a(e)}}))},46580:function(e,n,l){l.r(n),l.d(n,{setChildrenChecked:function(){return t},setParentChecked:function(){return a},updateNodeCheckStatus:function(){return c}});const a=e=>{const n=null==e?void 0:e.children,l=null==n?void 0:n.length,t=!!l&&!n.some((e=>!e.checked)),c=!!l&&n.some((e=>e.checked||e.indeterminate));e.checked=t,e.indeterminate=!t&&c,e.parent&&a(e.parent)},t=(e,n)=>{null==e||e.forEach((e=>{var l;e.checked=n,e.indeterminate=!1,null!==(l=e.children)&&void 0!==l&&l.length&&t(e.children,n)}))},c=(e,n)=>{var l;n.checked=e,n.indeterminate=!1,Array.isArray(n.children)&&null!==(l=n.children)&&void 0!==l&&l.length&&t(n.children,e),n.parent&&a(n.parent)}},30923:function(e,n,l){l.a(e,(async function(e,a){try{l.r(n);var t=l(46439),c=(l(219),l(57415),l(83744)),i=e([t]);t=(i.then?(await i)():i)[0];const u=(0,c.Z)(t.Z,[["__scopeId","data-v-a03d269e"]]);n.default=u,a()}catch(e){a(e)}}))},77630:function(e,n,l){l.r(n),l.d(n,{default:function(){return k}});var a=l(66252),t=l(2262),c=l(3577),i=l(67944),u=l(36993),r=l(46580);const d={class:"flex"},o={class:"ant-cascader-menu min-w-150px"},v=["onClick"],h={class:"label"},s=(0,a.aZ)({name:"NodePanel"});var p=(0,a.aZ)({...s,props:{options:{type:Array,default:()=>[]}},setup(e,n){let{expose:l}=n;const s=e,p=(0,t.iH)(),k=(0,t.iH)([]),f=(0,t.iH)(),m=()=>{var e,n;return null===(e=s.options)||void 0===e||null===(n=e.find((e=>e.value===f.value)))||void 0===n?void 0:n.children},g=(0,a.Fl)(m);(0,a.YP)(g,(e=>{e||(k.value=[])}));return l({clearCheck:()=>{var e;k.value.forEach((e=>{e.checked=!1,e.indeterminate=!1})),k.value.length&&setTimeout((()=>{k.value=m()||[]})),null===(e=p.value)||void 0===e||e.clearCheck()}}),(n,l)=>{var s;const m=(0,a.up)("node-panel",!0);return(0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",o,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.options,(e=>{var n;return(0,a.wg)(),(0,a.iD)("div",{key:e.value,class:"check-row ant-cascader-menu-item ant-cascader-menu-item-expand",onClick:n=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;k.value=e,f.value=n}(e.children,e.value)},[(0,a._)("div",null,[(0,a.Wm)((0,t.SU)(u.ZP),{checked:e.checked,"onUpdate:checked":n=>e.checked=n,indeterminate:e.indeterminate,onChange:n=>((e,n)=>{const l=e.target.checked;(0,r.updateNodeCheckStatus)(l,n)})(n,e)},null,8,["checked","onUpdate:checked","indeterminate","onChange"]),(0,a._)("span",h,(0,c.zw)(e.label),1)]),null!==(n=e.children)&&void 0!==n&&n.length?((0,a.wg)(),(0,a.j4)((0,t.SU)(i.Z),{key:0,class:"arrow"})):(0,a.kq)("",!0)],8,v)})),128))]),null!==(s=k.value)&&void 0!==s&&s.length&&(0,t.SU)(g)?((0,a.wg)(),(0,a.j4)(m,{key:0,ref_key:"nodePanelRef",ref:p,options:k.value},null,8,["options"])):(0,a.kq)("",!0)])}}});var k=(0,l(83744).Z)(p,[["__scopeId","data-v-15a34f47"]])},46439:function(e,n,l){l.a(e,(async function(e,a){try{l.d(n,{Z:function(){return t.Z}});var t=l(75956),c=e([t]);t=(c.then?(await c)():c)[0],a()}catch(e){a(e)}}))},219:function(){},57415:function(){}}]);